<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />
        <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0, maximum-scale=1.0, minimal-ui" />
        
        <title>Form Element Documentation</title>
        
        <script src="/js/greyspots.js" type="text/javascript"></script>
        <link href="/css/greyspots.css" type="text/css" rel="stylesheet" />
        
        <script src="/js/ace/ace.js" data-ace-base="/js/ace/" type="text/javascript" charset="utf-8"></script>
        <script src="/js/ace/ext-language_tools.js" type="text/javascript"></script>
        <script src="/js/ace/ext-searchbox.js" type="text/javascript"></script>
        
        <script src="doc-library/doc.js" type="text/javascript"></script>
        <link href="doc-library/doc.css" type="text/css" rel="stylesheet" />
    </head>
    <body>
        <gs-page>
            <gs-header><center><h3>Form Element</h3></center></gs-header>
            <gs-body padded>
                <b class="doc-header">Tag:</b>
                <div class="doc-section doc-mono">
                    &lt;gs-form src="..."&gt;<br />
                    &nbsp;&nbsp;&nbsp;&nbsp;&lt;template&gt;<br />
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...<br />
                    &nbsp;&nbsp;&nbsp;&nbsp;&lt;/template&gt;<br />
                    &lt;/gs-form&gt;
                </div>
                
                <b class="doc-header">Description:</b>
                <div class="doc-section">
                    The &lt;gs-form&gt; element is for selecting and updating records in the database. In most cases the form is used to select and update a single record but it can update multiple records.
                </div>
                
                <b class="doc-header">Database Functionality For Examples:</b>
                <div class="doc-section">
                    Examples on this page require the "gsdoc" schema to work properly. To enable the demonstration of features that require database functionality, please click the following button to create or refresh the "gsdoc" schema. <br />
                    The "gsdoc" schema is only installed temporarily. It is lost after every Abandon, Pull or Release.<br />
                    <gs-button id="button-documentation-schema">Create/Refresh Documentation Schema</gs-button>
                </div>
                
                <b class="doc-header">Examples:</b>
                <div class="doc-section">
                    <div class="doc-example-description">
                        <b>Skeleton Example:</b><br />
                        This is an example of a basic form. This form will have the following behaviours:<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;1) Each control will be filled with the value of it's column.<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;2) When you change the value of a control and you press return or move focus: The record will be updated with the new value.
                    </div>
                    <gs-doc-example>
                        <template for="html" height="13">
                            <gs-form src="gsdoc.tpeople" where="id=2341">
                                <template>
                                    <label for="first_name">First Name:</label>
                                    <gs-text id="first_name" column="first_name"></gs-text>
                                    
                                    <label for="last_name">Last Name:</label>
                                    <gs-text id="last_name" column="last_name"></gs-text>
                                </template>
                            </gs-form>
                        </template>
                    </gs-doc-example>
                    
                    
                    <div class="doc-example-description">
                        <b>Attribute "Limit":</b><br />
                        By setting the limit attribute we are allowing multiple records in the form. The limit attribute defaults to: "1".
                    </div>
                    <gs-doc-example>
                        <template for="html" height="26">
                            <gs-form src="gsdoc.tpeople" where="id > 2341" limit="2">
                                <template>
                                    <label>First Name:</label>
                                    <gs-text column="first_name"></gs-text>
                                    
                                    <label>Last Name:</label>
                                    <gs-text column="last_name"></gs-text>
                                    <hr />
                                </template>
                            </gs-form>
                        </template>
                    </gs-doc-example>
                    
                    
                    <div class="doc-example-description">
                        <b>Attribute "offset":</b><br />
                        By setting the offset attribute we are shifting the records we see.
                    </div>
                    <gs-doc-example>
                        <template for="html" height="26">
                            <gs-form src="gsdoc.tpeople" where="id > 2341" limit="2" offset="2">
                                <template>
                                    <label for="first_name">First Name:</label>
                                    <gs-text id="first_name" column="first_name"></gs-text>
                                    
                                    <label for="last_name">Last Name:</label>
                                    <gs-text id="last_name" column="last_name"></gs-text>
                                    <hr />
                                </template>
                            </gs-form>
                        </template>
                    </gs-doc-example>
                    
                    
                    <div class="doc-example-description">
                        <b>Attribute "ord":</b><br />
                        The "ord" attribute sets the ORDER BY that we get the records using.
                    </div>
                    <gs-doc-example>
                        <template for="html" height="26">
                            <gs-form src="gsdoc.tpeople" where="id > 2341" limit="2" ord="first_name ASC">
                                <template>
                                    <label for="first_name">First Name:</label>
                                    <gs-text id="first_name" column="first_name"></gs-text>
                                    
                                    <label for="last_name">Last Name:</label>
                                    <gs-text id="last_name" column="last_name"></gs-text>
                                    <hr />
                                </template>
                            </gs-form>
                        </template>
                    </gs-doc-example>
                    
                    
                    <div class="doc-example-description">
                        <b>Attribute "qs":</b><br />
                        The "qs" attribute causes the form the get it's where clause using a column in the querystring.
                    </div>
                    <gs-doc-example query-string="id=2341&unrelatedparameter=test">
                        <template for="html" height="20">
                            <gs-form src="gsdoc.tpeople" qs="id">
                                <template>
                                    <label for="text-id">ID:</label>
                                    <gs-text id="text-id" column="id"></gs-text>
                                    
                                    <label for="text-first_name">First Name:</label>
                                    <gs-text id="text-first_name" column="first_name"></gs-text>
                                    
                                    <label for="text-last_name">Last Name:</label>
                                    <gs-text id="text-last_name" column="last_name"></gs-text>
                                </template>
                            </gs-form>
                        </template>
                    </gs-doc-example>
                    
                    
                    <div class="doc-example-description">
                        <b>Attribute "refresh-on-querystring-values":</b><br />
                        The "refresh-on-querystring-values" attribute refreshes the form element when any of the columns in the attribute change in the query string. To put multiple columns in the attribute you would just put in comma seperated list.
                    </div>
                    <gs-doc-example query-string="id=2341&unrelatedparameter=test">
                        <template for="html" height="20">
                            <gs-button onclick="GS.pushQueryString('id=2341')">Record 1</gs-button>
                            <gs-button onclick="GS.pushQueryString('id=2342')">Record 2</gs-button>
                            <gs-form src="gsdoc.tpeople" where="id={{! qs.id }}" refresh-on-querystring-values="id">
                                <template>
                                    <label for="first_name">First Name:</label>
                                    <gs-text id="first_name" column="first_name"></gs-text>
                                    
                                    <label for="last_name">Last Name:</label>
                                    <gs-text id="last_name" column="last_name"></gs-text>
                                </template>
                            </gs-form>
                        </template>
                    </gs-doc-example>
                    
                    
                    <div class="doc-example-description">
                        <b>Attribute "refresh-on-querystring-change":</b><br />
                        The "refresh-on-querystring-change" attribute refreshes the form element when anything changes in the query string.
                    </div>
                    <gs-doc-example query-string="id=2341&unrelatedparameter=test">
                        <template for="html" height="20">
                            <gs-button onclick="GS.pushQueryString('refresh=' + window.refreshID++)">Update unrelated querystring column</gs-button>
                            <gs-form src="gsdoc.tpeople" where="id=2341" refresh-on-querystring-change>
                                <template>
                                    <label for="first_name">First Name:</label>
                                    <gs-text id="first_name" column="first_name"></gs-text>
                                    
                                    <label for="last_name">Last Name:</label>
                                    <gs-text id="last_name" column="last_name"></gs-text>
                                </template>
                            </gs-form>
                        </template>
                        <template for="js" height="5">window.refreshID = 0;</template>
                    </gs-doc-example>
                    
                    
                    <div class="doc-example-description">
                        <b>Attribute "cols":</b><br />
                        The "cols" attribute is for limiting the columns you get back from the database. Notice how the last_name column is not in the list and the last_name column is not filled in.
                    </div>
                    <gs-doc-example>
                        <template for="html" height="20">
                            <gs-form src="gsdoc.tpeople" where="id=2341" cols="id,first_name,change_stamp">
                                <template>
                                    <label for="text-id">ID:</label>
                                    <gs-text id="text-id" column="id"></gs-text>
                                    
                                    <label for="text-first_name">First Name:</label>
                                    <gs-text id="text-first_name" column="first_name"></gs-text>
                                    
                                    <label for="text-last_name">Last Name:</label>
                                    <gs-text id="text-last_name" column="last_name"></gs-text>
                                </template>
                            </gs-form>
                        </template>
                    </gs-doc-example>
                    
                    
                    <div class="doc-example-description">
                        <b>Attribute "save-while-typing":</b><br />
                        This attribute causes the form to update after the user has stopped typing for a certain period of time. Doing this means the user does not have to leave the field or press return to save.
                    </div>
                    <gs-doc-example>
                        <template for="html" height="15">
                            <gs-form src="gsdoc.tpeople" where="id=2341" save-while-typing>
                                <template>
                                    <label for="first_name">First Name:</label>
                                    <gs-text id="first_name" column="first_name"></gs-text>
                                    
                                    <label for="last_name">Last Name:</label>
                                    <gs-text id="last_name" column="last_name"></gs-text>
                                </template>
                            </gs-form>
                        </template>
                    </gs-doc-example>
                </div>
            </gs-body>
        </gs-page>
    </body>
</html>